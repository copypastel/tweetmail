
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>getContentType (SimpleMail)</title>
<link rel=StyleSheet href="../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body bgcolor="white">
<pre><span class="cmt"># File simplemail.rb, line 337</span>
  <span class="kw">def</span> getContentType (inFileName)
    
    <span class="cmt"># --strip path</span>
    inFileName = File.basename(inFileName)
    
    <span class="cmt"># --check for no extension</span>
    extension = inFileName.sub(<span class="re">/[^.]+(\..*)/</span>, <span class="str">'\1'</span>)
    <span class="kw">if</span> extension == <span class="str">&quot;&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;application/octet-stream&quot;</span>
    <span class="kw">end</span>
    
    <span class="cmt"># --get extension and check cases</span>
    <span class="kw">case</span> extension
    <span class="kw">when</span> <span class="str">&quot;.gif&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;image/gif&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.gz&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;application/x-gzip&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.htm&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;text/html&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.html&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;text/html&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.jpg&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;image/jpeg&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.tar&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;application/x-tar&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.txt&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;text/plain&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.zip&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;application/zip&quot;</span>
    <span class="kw">when</span> <span class="str">&quot;.pdf&quot;</span>
      <span class="kw">return</span> <span class="str">&quot;application/pdf&quot;</span>
    <span class="kw">end</span>
    <span class="str">&quot;application/octet-stream&quot;</span>
  <span class="kw">end</span></pre>
</body>
</html>